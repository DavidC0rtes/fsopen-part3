{"version":3,"sources":["components/misc.js","services/numbers.js","App.js","index.js"],"names":["Details","person","removePerson","name","number","onClick","key","PersonForm","props","onSubmit","addName","value","newName","onChange","handleNewName","newNumber","handleNewNumber","type","Persons","numbersToShow","removeNumberOf","map","window","confirm","id","Filter","newFilter","handleNewFilter","Notification","message","notificationStyle","color","background","fontStyle","borderStyle","borderRadius","padding","marginBottom","style","text","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","setMessage","useEffect","numService","initialNums","updateNumberOf","personObject","changedNumber","returnedPerson","setTimeout","catch","error","filter","match","RegExp","event","target","preventDefault","length","returnedName","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4faa999a.chunk.js","sourcesContent":["import React from 'react'\n\nconst Details = ( {person, removePerson} ) => {\n\treturn (\n\t\t<p>\n\t\t\t{person.name} {person.number}\n\t\t\t<button onClick={removePerson} key={person.name}>delete</button>\n\t\t</p>\n\t)\n}\n\nconst PersonForm = (props) => {\t\n\treturn (\n\t\t<form onSubmit={props.addName}>\n\t\t\t<> name: <input value={props.newName} onChange={props.handleNewName} /> </>\n\t\t\t<> number: <input value={props.newNumber} onChange={props.handleNewNumber} /></>\n\t\t\t<> <button type='submit'>add</button> </>\n\t\t</form>\n\t)\n}\n\nconst Persons = ({ numbersToShow, removeNumberOf }) => {\n\treturn (\n\t\t<div>\n\t\t\t{numbersToShow.map(person => <Details \n\t\t\t\t\t\t\t\t\t\t\tkey={person.name} \n\t\t\t\t\t\t\t\t\t\t\tperson={person} \n\t\t\t\t\t\t\t\t\t\t\tremovePerson={()=> window.confirm(`Delete ${person.name}?`)\t&& removeNumberOf(person.id)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nconst Filter = ( {newFilter, handleNewFilter } ) => { \n\treturn (\n\t\t<div>\n\t\t\tfilter shown with: <input value={newFilter} onChange={handleNewFilter}/>\n\t\t</div>\n\t)\n}\n\nconst Notification = ({ message }) => {\n\tif (message === null) {\n\t\treturn null\n\t}\n\t\n\tconst notificationStyle = {\n\t\tcolor: message.type === 'success' ? 'green' : 'red',\n\t\tbackground: 'lightgrey',\n\t\tfontStyle: 'italic',\n\t\tborderStyle: 'solid',\n\t\tborderRadius: 5,\n\t\tpadding: 10,\n\t\tmarginBottom: 10\n\t}\n\n\treturn (\n\t\t<div style={notificationStyle}>\n\t\t\t{message.text}\n\t\t</div>\n\t)\n}\n\nexport {PersonForm, Persons, Filter, Notification}\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl)\n\treturn request.then(response => response.data)\n}\n\nconst create = newObject => {\n\tconst request = axios.post(baseUrl, newObject)\n\treturn request.then(response => response.data)\n}\n\nconst remove = (id) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`)\n\treturn request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject)\n\treturn request.then(response => response.data)\n}\n\nexport default {getAll, create, remove, update}\n","import React, { useState, useEffect } from 'react'\nimport { PersonForm, Persons, Filter, Notification } from './components/misc'\nimport numService from './services/numbers'\n\nconst App = () => {\n\tconst [persons, setPersons ] = useState([])\n\tconst [newName, setNewName] = useState('')\n\tconst [newNumber, setNewNumber] = useState('')\n\tconst [newFilter, setNewFilter] = useState('')\n\tconst [message, setMessage] = useState(null)\n\n\tuseEffect(() => {\n\t\tnumService\n\t\t\t.getAll()\n\t\t\t.then(initialNums => {\n\t\t\t\tsetPersons(initialNums)\n\t\t\t})\n\t}, [])\n\n\tconst addName = (event) => {\n\t\tevent.preventDefault()\t\n\t\tconst match = persons.filter(person => person.name === newName)\n\t\t\n\t\tif (match.length) {\n\t\t\tconst result = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n\t\t\tresult && updateNumberOf(match[0])\n\n\t\t} else {\n\t\t\tconst nameObject = {\n\t\t\t\tname: newName,\n\t\t\t\tnumber: newNumber,\n\t\t\t}\n\n\t\t\tnumService\n\t\t\t\t.create(nameObject)\n\t\t\t\t.then(returnedName => {\n\t\t\t\t\tsetPersons(persons.concat(returnedName))\n\t\t\t        setMessage({ text: `Added ${newName}`, type: 'success'})\n\t\t\t\t})\n                .catch(error => {\n                    setMessage({ text: error.response.data.error, type: 'error' })\n                    console.log(error.response.data)\n                })\n\t\t\t\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetMessage(null)\n\t\t\t}, 4000)\n\t\t}\n\t\tsetNewName('')\n\t\tsetNewNumber('')\n\t}\n\n\tconst updateNumberOf = (personObject) => {\n\t\tconst changedNumber = {...personObject, number:newNumber}\n\t\tconst id = personObject.id\n\n\t\tnumService\n\t\t\t.update(id, changedNumber)\n\t\t\t.then(returnedPerson => {\n\t\t\t\tsetPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n\n\t\t\t\tsetMessage({\n\t\t\t\t\ttext: `Updated phone number of ${personObject.name}`,\n\t\t\t\t\ttype: 'success'\n\t\t\t\t})\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetMessage(null)\n\t\t\t\t\t}, 4000)\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tsetMessage({\n\t\t\t\t\ttext: `Information of ${personObject.name} has already been removed from server`,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t})\n\t\t\t\tsetPersons(persons.filter(person => person.id !== id))\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetMessage(null)\n\t\t\t\t}, 4000)\n\t\t\t})\n\t}\n\n\tconst removeNumberOf = (id) => {\t\n\t\tnumService\n\t\t\t.remove(id)\n\t\t\t.then(() => {\n\t\t\t\tsetPersons(persons.filter(person => person.id !== id))\n\t\t\t})\n\t}\n\t\n\tconst handleNewName = (event) => setNewName(event.target.value)\n\tconst handleNewNumber = (event) => setNewNumber(event.target.value)\n\tconst handleNewFilter = (event) => setNewFilter(event.target.value)\n\t\n\tconst numbersToShow = newFilter\t\n\t\t? persons.filter(person => person.name.match(new RegExp(newFilter, \"i\")))\n\t\t: persons\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={message} />\n\t\t\t<Filter newFilter={newFilter} handleNewFilter={handleNewFilter} />\n\t\t\t<h2>Add a new</h2>\n\t\t\t<PersonForm \n\t\t\t\taddName={addName} newName={newName}\n\t\t\t\tnewNumber={newNumber} handleNewName={handleNewName}\n\t\t\t\thandleNewNumber={handleNewNumber}\n\t\t\t/>\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons \n\t\t\t\tnumbersToShow={numbersToShow}\n\t\t\t\tremoveNumberOf={removeNumberOf}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}